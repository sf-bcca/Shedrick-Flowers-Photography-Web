# Installation & Setup Guide

This guide will help you set up the Shedrick Flowers Photography Web application for local development or self-hosted deployment.

## Prerequisites

*   **Node.js**: Version 18 or higher (v20+ recommended).
*   **npm**: Included with Node.js.
*   **Supabase Account**: For database, authentication, and storage.
*   **Docker** (Optional): For containerized self-hosting.

## 1. Clone the Repository

```bash
git clone https://github.com/yourusername/shedrick-flowers-photography-web.git
cd shedrick-flowers-photography-web
```

## 2. Install Dependencies

Install the required Node.js packages:

```bash
npm install
# If you encounter peer dependency issues with React 19:
npm install --legacy-peer-deps
```

## 3. Environment Configuration

1.  Copy the example environment file:
    ```bash
    cp .env.example .env
    ```

2.  Open `.env` and fill in the required values:

    ```env
    VITE_SUPABASE_URL=https://your-project-ref.supabase.co
    VITE_SUPABASE_ANON_KEY=your-anon-public-key
    GEMINI_API_KEY=your-gemini-api-key
    ```

    *   **Supabase URL/Key**: Found in your Supabase Project Settings > API.
    *   **Gemini API Key**: Required for AI-powered features (e.g., auto-generating descriptions).

## 4. Database Setup (Supabase)

The application relies on specific database tables in Supabase.

1.  Go to the **SQL Editor** in your Supabase dashboard.
2.  Open the `supabase_schema.sql` file provided in this repository.
3.  Copy the contents and paste them into the SQL Editor.
4.  Run the script to create the tables (`portfolio`, `blog`, `services`, `settings`, `comments`).

### Storage Setup
1.  Go to **Storage** in Supabase.
2.  Create a new bucket named `images`.
3.  Set the bucket to **Public**.
4.  Add a policy to allow authenticated users to upload/delete files, and anyone to read files.

## 5. Docker Setup (Self-Hosting)

If you intend to self-host this application using Docker (e.g., on Proxmox LXC), follow these steps.

### Build the Image

Create a `Dockerfile` in the root (if not present) or use the following command to build a production image using a standard Node/Nginx setup.

*Example Build Command (assuming a standard Nginx Dockerfile):*

```bash
docker build -t shedrick-photography-web .
```

### Run the Container

```bash
docker run -d \
  -p 80:80 \
  --env-file .env \
  --name photography-web \
  shedrick-photography-web
```

*Note: Since this is a Client-Side Rendered (CSR) app (Vite + React), the Docker container effectively serves static files generated by `npm run build`. You do not need the Node.js runtime in the final container, just a web server like Nginx.*
